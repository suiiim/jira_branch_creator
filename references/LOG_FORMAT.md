# Log Format Convention

## 저장 위치

```
%USERPROFILE%\Desktop\jira-sync-logs\
```

환경변수 `LOG_DIR`로 경로 오버라이드 가능:

```bash
LOG_DIR="D:\my-logs" python scripts/watch_intqa_and_sync.py
```

## 파일명 규칙

```
{script-name}_YYYYMMDD.log
```

| 스크립트 | 파일명 예시 |
|----------|------------|
| `watch_intqa_and_sync.py` | `watch_intqa_20260227.log` |
| `sync_intqa_to_sscve.py`  | `sync_intqa_20260227.log`  |

- 날짜가 바뀌면 자동으로 새 파일 생성 (일별 로테이션)
- 기존 파일은 유지 (삭제하지 않음)

## 로그 포맷

```
[YYYY-MM-DD HH:MM:SS] [LEVEL  ] MESSAGE
```

### 레벨 정의

| 레벨    | 의미                             | 예시 |
|---------|----------------------------------|------|
| `INFO ` | 일반 동작 정보                   | 워처 시작, 폴링 중 |
| `OK   ` | 작업 성공                        | SSCVE 이슈 생성 완료 |
| `SKIP ` | 중복/불필요로 건너뜀             | 이미 연결된 이슈 |
| `WARN ` | 부분 실패 (계속 진행 가능)       | 링크 생성 실패 |
| `ERROR` | 오류 (작업 실패)                 | API 오류, 네트워크 오류 |

### 로그 예시

```
[2026-02-27 10:00:00] [INFO ] 워처 시작 (폴링 간격: 15초)
[2026-02-27 10:00:01] [INFO ] 초기 스캔: INTQA 처리중 이슈 1건 확인
[2026-02-27 10:00:02] [SKIP ] [INTQA-4625] 이미 연결된 SSCVE 이슈 존재: SSCVE-2735
[2026-02-27 10:00:17] [INFO ] 폴링 중... (처리중 이슈: 1건)
[2026-02-27 10:05:30] [INFO ] 신규 처리중 이슈 1건 감지
[2026-02-27 10:05:31] [OK   ] [INTQA-4630] -> [SSCVE-2740] 생성 완료 / 링크 완료
[2026-02-27 10:05:31] [INFO ] 제목: [SS_CVE] 신규 이슈 제목
[2026-02-27 10:10:00] [INFO ] [INTQA-4630] 처리중 상태 해제됨
[2026-02-27 10:30:00] [ERROR] API 401 Unauthorized: 토큰을 확인하세요
```

## 출력 대상

로그는 **콘솔(stdout)과 파일 동시에** 출력됩니다.

```
콘솔  → 실시간 모니터링용
파일  → 이력 보관용 (일별 로테이션)
```
